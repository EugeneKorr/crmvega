# üïµÔ∏è‚Äç‚ôÇÔ∏è –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞ CRM Vega (v2)

## üö¶ –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ
**–°–æ—Å—Ç–æ—è–Ω–∏–µ:** üü¢ **–û—Ç–ª–∏—á–Ω–æ–µ. –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é.**
–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥ –ø–æ–≥–∞—à–µ–Ω. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–∏—Å—Ç–∞—è –∏ –º–æ–¥—É–ª—å–Ω–∞—è.

---

## üü¢ –†–ï–®–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ (Fixed High Priority)

### 1. üõ° –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ (Backend)
- **–ë—ã–ª–æ:** –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ `multer.memoryStorage()` –≤ RAM.
- **–°—Ç–∞–ª–æ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `multer.diskStorage()` (–ø–∞–ø–∫–∞ `/tmp`).
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤.

### 2. üèó –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ OrderMessages (Backend)
- **–ë—ã–ª–æ:** –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ñ–∞–π–ª `orderMessages.js`.
- **–°—Ç–∞–ª–æ:** –†–∞–∑–¥–µ–ª–µ–Ω–æ –Ω–∞ `Controller`, `Service`, `Routes`.
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å.

### 3. üî• –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Bubble Integration (Backend)
- **–ë—ã–ª–æ:** –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ñ–∞–π–ª `routes/bubble.js` (1100+ —Å—Ç—Ä–æ–∫).
- **–°—Ç–∞–ª–æ:**
  - `controllers/bubbleController.js`: –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤.
  - `services/bubbleService.js`: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, —Ä–∞–±–æ—Ç–∞ —Å –ë–î, –º–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö.
  - `routes/bubble.js`: –¢–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç—ã –∏ middleware.
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –º–æ–¥—É–ª—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

### 4. üèõ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Frontend API
- **–ë—ã–ª–æ:** –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ñ–∞–π–ª `api.ts` (760+ —Å—Ç—Ä–æ–∫).
- **–°—Ç–∞–ª–æ:** –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ `frontend/src/services/api/`:
  - `auth.ts`, `orders.ts`, `messages.ts`, `ai.ts` –∏ –¥—Ä.
  - `client.ts`: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Axios.
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –õ–µ–≥—á–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã, –º–µ–Ω—å—à–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ —Å–ª–∏—è–Ω–∏–∏.

### 5. üßπ –ß–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –°–∫—Ä–∏–ø—Ç—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `backend/scripts/`.
- –§–∞–π–ª `STAGING_SETUP.md` –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω.

---

## ‚úÖ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π (Roadmap)

1. **[–°–ï–ô–ß–ê–°] Deploy to Staging:**
   - –ó–∞–ø—É—à–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (Memory Fix + Refactoring).
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
     - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ (—á–µ—Ä–µ–∑ Bubble Webhook).
     - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (Client/Internal).
     - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤.
     - –†–∞–±–æ—Ç–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (Frontend API).

2. **Deploy to Production:**
   - –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞ –Ω–∞ Staging.

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ–¥–∞—á–µ –≤ —Ä–µ–ª–∏–∑. üöÄ
